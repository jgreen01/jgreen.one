---
import Base from "../layouts/Base.astro";
import EntryCard from "../components/EntryCard.astro";
import { getCollection } from "astro:content";

/**
 * Fetch all published entries (both kinds), newest first.
 * You can later add "featured: true" to frontmatter to curate.
 */
const all = (await getCollection("entries", e => !e.data.draft))
  .sort((a, b) => +b.data.pubDate - +a.data.pubDate);

// Select top N to feature on the homepage
const featured = all.slice(0, 4);
---
<Base title="Site Title Placeholder" description="Short site description for the homepage.">
  <section class="max-w-prose mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1>Hero Headline Placeholder</h1>
    <p>1–2 sentence tagline that describes focus (e.g., projects + writing in tech/AI/ML).</p>
    <!-- Add a prominent call-to-action or quick nav later -->
  </section>

  <section class="max-w-prose mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h2>Latest Entries</h2>
    {featured.map((entry) => <EntryCard entry={entry} />)}
    <p>
      <a href="/projects/" class="text-accent dark:text-accentDark hover:underline">Browse Projects</a> • <a href="/blog/" class="text-accent dark:text-accentDark hover:underline">Read the Blog</a>
    </p>
  </section>
</Base>
